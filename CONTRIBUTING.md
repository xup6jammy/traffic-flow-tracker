# ğŸ¤ è²¢ç»æŒ‡å—

æ„Ÿè¬æ‚¨è€ƒæ…®ç‚ºå°åŒ—å¸‚äº¤é€šç›£æ§ç³»çµ±åšå‡ºè²¢ç»ï¼

## ğŸ“‹ ç›®éŒ„

- [è¡Œç‚ºæº–å‰‡](#è¡Œç‚ºæº–å‰‡)
- [å¦‚ä½•è²¢ç»](#å¦‚ä½•è²¢ç»)
- [é–‹ç™¼æµç¨‹](#é–‹ç™¼æµç¨‹)
- [ä»£ç¢¼è¦ç¯„](#ä»£ç¢¼è¦ç¯„)
- [æäº¤è¦ç¯„](#æäº¤è¦ç¯„)
- [æ¸¬è©¦è¦æ±‚](#æ¸¬è©¦è¦æ±‚)

## ğŸŒŸ è¡Œç‚ºæº–å‰‡

### æˆ‘å€‘çš„æ‰¿è«¾

- å°Šé‡æ‰€æœ‰è²¢ç»è€…
- æ¥å—å»ºè¨­æ€§çš„æ‰¹è©•
- å°ˆæ³¨æ–¼å°ç¤¾ç¾¤æœ€æœ‰åˆ©çš„äº‹æƒ…
- å±•ç¾åŒç†å¿ƒ

### ä¸å¯æ¥å—çš„è¡Œç‚º

- ä½¿ç”¨æ€§åˆ¥åŒ–èªè¨€æˆ–åœ–åƒ
- ä¾®è¾±æ€§è©•è«–æˆ–äººèº«æ”»æ“Š
- å…¬é–‹æˆ–ç§ä¸‹é¨·æ“¾
- æœªç¶“è¨±å¯ç™¼å¸ƒä»–äººç§äººä¿¡æ¯

## ğŸ’¡ å¦‚ä½•è²¢ç»

### å ±å‘Š Bug

åœ¨æäº¤ Bug ä¹‹å‰ï¼š
1. ç¢ºèª Bug åœ¨æœ€æ–°ç‰ˆæœ¬ä¸­ä»å­˜åœ¨
2. æŸ¥çœ‹ [Issues](https://github.com/yourusername/traffic-monitor-system/issues) ç¢ºèªæœªè¢«å ±å‘Š

æäº¤ Bug æ™‚è«‹åŒ…å«ï¼š
```markdown
**ç’°å¢ƒï¼š**
- OS: [e.g., Windows 10]
- Python: [e.g., 3.9.7]
- ç‰ˆæœ¬: [e.g., v1.0.0]

**é‡ç¾æ­¥é©Ÿï¼š**
1. åšäº†ä»€éº¼
2. é æœŸçµæœ
3. å¯¦éš›çµæœ

**æˆªåœ–ï¼š**
ï¼ˆå¦‚é©ç”¨ï¼‰

**é¡å¤–ä¿¡æ¯ï¼š**
ä»»ä½•å…¶ä»–ç›¸é—œä¿¡æ¯
```

### å»ºè­°æ–°åŠŸèƒ½

æäº¤åŠŸèƒ½å»ºè­°æ™‚è«‹èªªæ˜ï¼š
1. åŠŸèƒ½çš„è©³ç´°æè¿°
2. ç‚ºä»€éº¼éœ€è¦é€™å€‹åŠŸèƒ½
3. å¦‚ä½•ä½¿ç”¨é€™å€‹åŠŸèƒ½
4. å¯èƒ½çš„å¯¦ç¾æ–¹å¼

### æäº¤ä»£ç¢¼

1. **Fork å°ˆæ¡ˆ**
   ```bash
   git clone https://github.com/yourusername/traffic-monitor-system.git
   ```

2. **å‰µå»ºåˆ†æ”¯**
   ```bash
   git checkout -b feature/amazing-feature
   ```

3. **ç·¨å¯«ä»£ç¢¼**
   - éµå¾ªä»£ç¢¼è¦ç¯„
   - æ·»åŠ å¿…è¦çš„è¨»é‡‹
   - ç·¨å¯«æ¸¬è©¦

4. **æäº¤æ›´æ”¹**
   ```bash
   git commit -m "âœ¨ Add amazing feature"
   ```

5. **æ¨é€åˆ†æ”¯**
   ```bash
   git push origin feature/amazing-feature
   ```

6. **é–‹å•Ÿ Pull Request**

## ğŸ”§ é–‹ç™¼æµç¨‹

### è¨­ç½®é–‹ç™¼ç’°å¢ƒ

1. **å…‹éš†å€‰åº«**
   ```bash
   git clone https://github.com/yourusername/traffic-monitor-system.git
   cd traffic-monitor-system
   ```

2. **å‰µå»ºè™›æ“¬ç’°å¢ƒ**
   ```bash
   python -m venv venv
   source venv/bin/activate  # Linux/Mac
   venv\Scripts\activate     # Windows
   ```

3. **å®‰è£ä¾è³´**
   ```bash
   pip install -r backend/requirements.txt
   pip install -r requirements-dev.txt  # é–‹ç™¼ä¾è³´
   ```

4. **å®‰è£ pre-commit hooks**
   ```bash
   pre-commit install
   ```

### åˆ†æ”¯ç­–ç•¥

- `main` - ç©©å®šç‰ˆæœ¬
- `develop` - é–‹ç™¼ç‰ˆæœ¬
- `feature/*` - æ–°åŠŸèƒ½
- `bugfix/*` - Bug ä¿®å¾©
- `hotfix/*` - ç·Šæ€¥ä¿®å¾©

## ğŸ“ ä»£ç¢¼è¦ç¯„

### Python ä»£ç¢¼ï¼ˆPEP 8ï¼‰

**ä½¿ç”¨ Black æ ¼å¼åŒ–ï¼š**
```bash
black backend/
```

**ä½¿ç”¨ isort æ’åº importsï¼š**
```bash
isort backend/
```

**ä½¿ç”¨ flake8 æª¢æŸ¥ï¼š**
```bash
flake8 backend/ --max-line-length=100
```

**ç¯„ä¾‹ï¼š**
```python
"""
æ¨¡çµ„èªªæ˜
"""

import os
from typing import Dict, List

from ultralytics import YOLO
import cv2


class VehicleDetector:
    """è»Šè¼›æª¢æ¸¬å™¨é¡"""

    def __init__(self, stream_url: str, model_path: str = 'yolov8n.pt'):
        """
        åˆå§‹åŒ–æª¢æ¸¬å™¨

        Args:
            stream_url: M3U8 è¦–é »æµ URL
            model_path: YOLO æ¨¡å‹è·¯å¾‘
        """
        self.stream_url = stream_url
        self.model = YOLO(model_path)

    def process_frame(self) -> Dict:
        """è™•ç†å–®å¹€"""
        pass
```

### JavaScript ä»£ç¢¼

**ä½¿ç”¨ ESLintï¼š**
```bash
eslint frontend/js/
```

**ä½¿ç”¨ Prettier æ ¼å¼åŒ–ï¼š**
```bash
prettier --write "frontend/**/*.js"
```

**ç¯„ä¾‹ï¼š**
```javascript
// Socket.IO é€£æ¥
const socket = io('http://localhost:5000');

/**
 * æ›´æ–°çµ±è¨ˆé¡¯ç¤º
 * @param {Object} stats - çµ±è¨ˆæ•¸æ“š
 */
function updateStatsDisplay(stats) {
    const { southbound, northbound, total, fps } = stats;
    // æ›´æ–°é‚è¼¯...
}
```

### HTML/CSS

- ä½¿ç”¨ 2 ç©ºæ ¼ç¸®æ’
- class åç¨±ä½¿ç”¨ kebab-case
- ä¿æŒèªç¾©åŒ–çš„ HTML çµæ§‹

## ğŸ“Œ æäº¤è¦ç¯„

ä½¿ç”¨ [Conventional Commits](https://www.conventionalcommits.org/)ï¼š

```
<é¡å‹>: <ç°¡çŸ­æè¿°>

<è©³ç´°æè¿°>

<footer>
```

### é¡å‹

- `âœ¨ feat:` æ–°åŠŸèƒ½
- `ğŸ› fix:` Bug ä¿®å¾©
- `ğŸ“ docs:` æ–‡æª”æ›´æ–°
- `ğŸ’„ style:` ä»£ç¢¼æ ¼å¼ï¼ˆä¸å½±éŸ¿åŠŸèƒ½ï¼‰
- `â™»ï¸ refactor:` é‡æ§‹
- `âš¡ perf:` æ€§èƒ½å„ªåŒ–
- `âœ… test:` æ¸¬è©¦ç›¸é—œ
- `ğŸ”§ chore:` æ§‹å»º/å·¥å…·ç›¸é—œ

### ç¯„ä¾‹

```bash
git commit -m "âœ¨ feat: æ·»åŠ è»Šè¼›é€Ÿåº¦æª¢æ¸¬åŠŸèƒ½"
git commit -m "ğŸ› fix: ä¿®å¾©åŒ—ä¸Šè»Šè¼›çµ±è¨ˆéŒ¯èª¤"
git commit -m "ğŸ“ docs: æ›´æ–° README å®‰è£èªªæ˜"
```

## âœ… æ¸¬è©¦è¦æ±‚

### å–®å…ƒæ¸¬è©¦

ä½¿ç”¨ pytestï¼š

```python
# tests/test_detector.py
import pytest
from backend.detector import VehicleDetector


def test_detector_initialization():
    detector = VehicleDetector('test_url')
    assert detector.stream_url == 'test_url'


def test_distance_calculation():
    detector = VehicleDetector('test_url')
    distance = detector.distance((0, 0), (3, 4))
    assert distance == 5.0
```

é‹è¡Œæ¸¬è©¦ï¼š
```bash
pytest tests/
```

### ä»£ç¢¼è¦†è“‹ç‡

```bash
pytest --cov=backend tests/
```

ç›®æ¨™ï¼š>80% è¦†è“‹ç‡

### é›†æˆæ¸¬è©¦

æ¸¬è©¦å®Œæ•´æµç¨‹ï¼š
```python
def test_full_detection_flow():
    # åˆå§‹åŒ–æª¢æ¸¬å™¨
    # è™•ç†å¹€
    # é©—è­‰çµæœ
    pass
```

## ğŸ“¦ Pull Request æ¸…å–®

åœ¨æäº¤ PR ä¹‹å‰ï¼Œè«‹ç¢ºèªï¼š

- [ ] ä»£ç¢¼éµå¾ªå°ˆæ¡ˆé¢¨æ ¼æŒ‡å—
- [ ] å·²æ·»åŠ å¿…è¦çš„è¨»é‡‹
- [ ] æ–‡æª”å·²æ›´æ–°
- [ ] æ‰€æœ‰æ¸¬è©¦é€šé
- [ ] æ²’æœ‰æ–°çš„è­¦å‘Š
- [ ] PR æ¨™é¡Œæ¸…æ™°æè¿°æ›´æ”¹
- [ ] å·²é€£çµç›¸é—œ Issue

## ğŸ¯ å„ªå…ˆé–‹ç™¼ä»»å‹™

### é«˜å„ªå…ˆç´š

- [ ] æ·»åŠ è»Šè¼›é€Ÿåº¦æª¢æ¸¬
- [ ] æ”¯æ´æ›´å¤šè¦–é »æ ¼å¼
- [ ] æ·»åŠ è³‡æ–™åº«å­˜å„²
- [ ] å¤šæ”åƒé ­æ”¯æ´

### ä¸­å„ªå…ˆç´š

- [ ] å°å‡ºçµ±è¨ˆå ±è¡¨ï¼ˆCSV/Excelï¼‰
- [ ] è»Šç‰Œè­˜åˆ¥åŠŸèƒ½
- [ ] ç•°å¸¸äº‹ä»¶æª¢æ¸¬
- [ ] ç§»å‹•ç«¯é©é…

### ä½å„ªå…ˆç´š

- [ ] æš—è‰²ä¸»é¡Œé¸é …
- [ ] å¤šèªè¨€æ”¯æ´
- [ ] æ­·å²æ•¸æ“šå›æ”¾
- [ ] AI è¨“ç·´è‡ªå®šç¾©æ¨¡å‹

## ğŸ† è²¢ç»è€…

æ„Ÿè¬æ‰€æœ‰è²¢ç»è€…ï¼

<!-- ALL-CONTRIBUTORS-LIST:START -->
<!-- ALL-CONTRIBUTORS-LIST:END -->

## ğŸ“¬ è¯ç¹«æ–¹å¼

å¦‚æœ‰å•é¡Œï¼Œè«‹ï¼š
- æäº¤ [Issue](https://github.com/yourusername/traffic-monitor-system/issues)
- ç™¼é€éƒµä»¶è‡³ï¼šyour.email@example.com
- åŠ å…¥ Discord ç¤¾ç¾¤ï¼š[é€£çµ]

## ğŸ“š åƒè€ƒè³‡æº

- [Python é¢¨æ ¼æŒ‡å—](https://www.python.org/dev/peps/pep-0008/)
- [JavaScript é¢¨æ ¼æŒ‡å—](https://github.com/airbnb/javascript)
- [Conventional Commits](https://www.conventionalcommits.org/)
- [é–‹æºè²¢ç»æŒ‡å—](https://opensource.guide/how-to-contribute/)

---

å†æ¬¡æ„Ÿè¬æ‚¨çš„è²¢ç»ï¼ğŸ™
